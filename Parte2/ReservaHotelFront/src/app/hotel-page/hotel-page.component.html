<div class="container">
    <div class="title">
        <h2>Hotels</h2>
        <h1>Look for Hotels around You!</h1>
    </div>
</div>
<section class="restaurant-section reverse">
    <div class="image-wrapper">
      <div class="map-rouded">
        <google-map
        #gmap
        height="100%"
        width="100%"
        [center]="center"
        [zoom]="zoom"
        [options]="mapOptions"
      >
        <map-marker
          *ngFor="let h of filteredHotels; trackBy: trackByUri"
          #m="mapMarker"
          [position]="{ lat: h.lat, lng: h.lng }"
          [title]="h.name"
          (mapClick)="openDbpedia(h)"
        >
        </map-marker>

        <map-info-window #info>
          <div class="info">
            <div class="info-title">{{ currentHotel?.name }}</div>
            <div class="info-sub">
              <span *ngIf="currentHotel?.city">{{ currentHotel?.city }}</span>
              <span *ngIf="currentHotel?.city && currentHotel?.country"> â€¢ </span>
              <span *ngIf="currentHotel?.country">{{ currentHotel?.country }}</span>
            </div>
            <button class="btn btn-open" (click)="openDbpedia(currentHotel!)">Ver na DBpedia</button>
          </div>
        </map-info-window>
      </google-map>
      </div>
    </div>
    <div class="content-wrapper">
  <h2 class="panel-title">Hotels</h2>

  <div class="search">
    <input [(ngModel)]="query" class="input" placeholder="Filter by Name City or Country..." (keyup.enter)="applyFilter()" />
    <button class="btn btn-search" (click)="applyFilter()" aria-label="Buscar">ðŸ”Ž</button>
  </div>

  <div class="search">
    <input [(ngModel)]="geocodeQuery" class="input" placeholder="Go to a CEP or Address..." (keyup.enter)="geocodeAddress()" />
    <button class="btn btn-search" (click)="geocodeAddress()" [disabled]="geocodingLoading">
      {{ geocodingLoading ? 'Carregando...' : 'Ir' }}
    </button>
  </div>

  <div class="stats">Found: {{ filteredHotels.length }} Hotels</div>

  <!-- Somente esta Ã¡rea rola -->
  <div class="results">
    <!-- GRADE DE CARDS NO ESTILO DA IMAGEM -->
    <div class="content">
      <div
        class="room"
        *ngFor="let h of filteredHotels; trackBy: trackByUri"
        (click)="focusHotel(h)"
      >
        <div class="info">
          <h1>{{ h.name }}</h1>

          <!-- descriÃ§Ã£o: use cidade/paÃ­s; ajuste se tiver description real -->
          <p *ngIf="h.city || h.country">
            <ng-container *ngIf="h.city">{{ h.city }}</ng-container>
            <ng-container *ngIf="h.city && h.country"> â€” </ng-container>
            <ng-container *ngIf="h.country">{{ h.country }}</ng-container>
          </p>
        </div>

        <img
          [src]="h.thumbnail || 'assets/imgs/hotel.png'"
          alt="{{ h.name }}"
          (error)="onImgError($event)"
        />

        <!-- botÃ£o flutuante no canto (abre DBpedia) -->
        <div class="btnEdit"
            title="Ver na DBpedia"
            (click)="$event.stopPropagation(); openDbpedia(h)">
        
        </div>
      </div>
    </div>
  </div>
</div>
    
</section>
